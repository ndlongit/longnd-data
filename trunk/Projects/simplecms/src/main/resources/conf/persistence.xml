<?xml version="1.0" encoding="UTF-8"?>
<persistence version="1.0" xmlns="http://java.sun.com/xml/ns/persistence"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://java.sun.com/xml/ns/persistence
	http://java.sun.com/xml/ns/persistence/persistence_1_0.xsd">
	<persistence-unit name="jpa" transaction-type="RESOURCE_LOCAL">
		<properties>
	        <!-- The second-level cache  -->
            <property name="hibernate.cache.use_second_level_cache" value="true"/>
	        <property name="hibernate.cache.provider_class" value="net.sf.ehcache.hibernate.SingletonEhCacheProvider" />
	        <property name="hibernate.cache.region_prefix" value="tinycmsHibernate" />
	        <property name="hibernate.generate_statistics" value="true"/>
	        <property name="net.sf.ehcache.configurationResourceName" value="/conf/ehcache.xml" />
            			
            <!-- Envers events -->
            <property name="hibernate.ejb.event.post-insert" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="hibernate.ejb.event.post-update" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="hibernate.ejb.event.post-delete" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="hibernate.ejb.event.pre-collection-update" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="hibernate.ejb.event.pre-collection-remove" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="hibernate.ejb.event.post-collection-recreate" value="org.hibernate.envers.event.AuditEventListener" />
			<property name="org.hibernate.envers.auditTablePrefix" value="REV__" />
			<property name="org.hibernate.envers.auditTableSuffix" value="" />
                        
            <!-- Misc. settings -->
            <property name="hibernate.connection.charSet" value="utf-8" />
            <property name="hibernate.bytecode.use_reflection_optimizer" value="true" />
            <property name="hibernate.generate_statistics" value="true"/>
		</properties>
	</persistence-unit>
</persistence>
